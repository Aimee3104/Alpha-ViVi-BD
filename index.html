<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>You're Invited!</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- üî• Fakie Animation -->
  <style>
    @keyframes fakieShake {
      0% { transform: rotate(0deg); }
      25% { transform: rotate(-10deg); }
      50% { transform: rotate(10deg); }
      75% { transform: rotate(-10deg); }
      100% { transform: rotate(0deg); }
    }
    .animate-fakie {
      animation: fakieShake 0.5s ease-in-out infinite;
    }
  </style>
</head>

<body class="bg-pink-50 flex justify-center items-center min-h-screen px-4 py-8">

  <div class="bg-white rounded-2xl shadow-2xl p-6 max-w-xl w-full">
    
    <!-- Banner Image -->
    <img src="banner.png" alt="Birthday Banner" class="rounded-xl mb-6 w-full shadow"/>

    <!-- Header -->
    <h1 class="text-3xl font-extrabold text-center text-purple-700 mb-2">üéâ You're Invited!</h1>
    <p class="text-center text-gray-600 mb-4">Vote for the best birthday date and let us know if you're coming!</p>

    <ul class="text-gray-700 text-sm mb-4 list-disc list-inside">
      <li>Lots of meat for KBBQ, Drinks, Snacks</li> 
      <li>Board games and chaos guaranteed üòà</li> 
    </ul>

    <!-- RSVP Form -->
    <form
      action="https://docs.google.com/forms/d/e/1FAIpQLSewBgAhHAUYvXxs83rc23fN2BaNuS9ykiBJEN9bX8QXQqpUZg/formResponse"
      method="POST" target="_blank" id="rsvpForm" class="space-y-4"
      onsubmit="return validateForm()">

      <!-- Name -->
      <input type="text" name="entry.381883311" placeholder="Your Name" required
             class="w-full p-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-pink-400"/>
      <p id="errorName" class="text-red-500 text-sm hidden">Please enter your name.</p>

      <!-- Email -->
      <input type="email" name="entry.97539824" placeholder="Your Email" required
             class="w-full p-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-pink-400"/>
      <p id="errorEmail" class="text-red-500 text-sm hidden">Please enter a valid email.</p>

      <!-- Attendance -->
      <select name="entry.939711493" id="attendance" required
              class="w-full p-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-pink-400"
              onchange="toggleVote(this.value)">
        <option value="">Will you attend?</option>
        <option value="Yes">Yes üéâ</option>
        <option value="No">No üò¢</option>
      </select>
      <p id="errorAttendance" class="text-red-500 text-sm hidden">Please select attendance status.</p>

      <!-- FAKIE message for No -->
      <div id="fakieMessage"
           class="hidden text-red-700 text-8xl font-extrabold text-center mt-8 animate-fakie">
        FAKIEüñï
      </div>

      <!-- Date Voting (multiple choice) -->
      <div id="voteSection" class="hidden">
        <label class="block text-sm font-medium text-gray-700 mb-2">
          Which dates work for you? (Choose one or both)
        </label>
        <div class="space-y-2">
          <label class="flex items-center">
            <input type="checkbox" name="entry.2054717780" value="July 16"
                   class="mr-2 text-pink-500 focus:ring-pink-400">
            July 16, 2025 @ 6:00 PM
          </label>
          <label class="flex items-center">
            <input type="checkbox" name="entry.2054717780" value="July 21"
                   class="mr-2 text-pink-500 focus:ring-pink-400">
            July 21, 2025 @ 6:00 PM
          </label>
        </div>
        <p id="errorVote" class="text-red-500 text-sm hidden">Please select at least one date.</p>
        <p class="text-sm text-gray-500 mt-3">
          üóìÔ∏è We‚Äôll let you know the confirmed date by <strong>Sunday, July 13</strong>!
        </p>
      </div>

      <!-- Submit Button -->
      <button type="submit"
              class="w-full bg-pink-500 hover:bg-pink-600 text-white font-semibold py-3 rounded-xl transition">
        Submit RSVP
      </button>
    </form>

    <!-- Location -->
    <div class="mt-8">
      <h2 class="text-lg font-semibold text-gray-800 mb-2">üìç Location</h2>
      <p class="text-gray-600 mb-2">Vivi's Place ‚Äî 299 Whitwell St, Quincy, MA 02169</p>
      <iframe
        src="https://www.google.com/maps?q=299+Whitwell+St,+Quincy,+MA+02169&output=embed"
        width="100%" height="250" style="border:0;" allowfullscreen="" loading="lazy"
        class="rounded-xl">
      </iframe>
    </div>

  </div>

  <!-- Form Script -->
  <script>
    function toggleVote(value) {
      const vote = document.getElementById('voteSection');
      const fakie = document.getElementById('fakieMessage');

      if (value === "Yes") {
        vote.classList.remove('hidden');
        fakie.classList.add('hidden');
      } else if (value === "No") {
        vote.classList.add('hidden');
        fakie.classList.remove('hidden');
      } else {
        vote.classList.add('hidden');
        fakie.classList.add('hidden');
      }
    }

    function validateForm() {
      const name = document.querySelector('input[name="entry.381883311"]');
      const email = document.querySelector('input[name="entry.97539824"]');
      const attendance = document.getElementById('attendance').value;
      const voteCheckboxes = document.querySelectorAll('input[name="entry.2054717780"]:checked');

      const errorName = document.getElementById('errorName');
      const errorEmail = document.getElementById('errorEmail');
      const errorAttendance = document.getElementById('errorAttendance');
      const errorVote = document.getElementById('errorVote');

      // Reset all errors
      errorName.classList.add('hidden');
      errorEmail.classList.add('hidden');
      errorAttendance.classList.add('hidden');
      errorVote.classList.add('hidden');

      let valid = true;

      if (name.value.trim() === "") {
        errorName.classList.remove('hidden');
        valid = false;
      }

      if (email.value.trim() === "") {
        errorEmail.classList.remove('hidden');
        valid = false;
      }

      if (attendance === "") {
        errorAttendance.classList.remove('hidden');
        valid = false;
      }

      if (attendance === "Yes" && voteCheckboxes.length === 0) {
        errorVote.classList.remove('hidden');
        valid = false;
      }

      return valid;
    }
  </script>

</body>
</html>
